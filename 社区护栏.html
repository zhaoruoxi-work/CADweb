<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>社区护栏图纸</title>
    <style>
        body {
            margin: 0;
            height: 100vh;
            display: flex;
            flex-direction: column;
            /* 添加这行以垂直排列元素 */
            align-items: center;
        }

        svg {
            width: 70%;
            height: auto;
        }

        .editable-text {
            font-size: 12px;
            fill: #000000;
            pointer-events: all;
        }

        .transparent-bg {
            fill: none;
        }

        button {
            padding: 10px 20px;
            font-size: 16px;
            background-color: #3498db;
            color: #fff;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s ease;
            margin-top: 10px;
            /* 添加这行来设置按钮与SVG之间的间距 */
        }

        button:hover {
            background-color: #2980b9;
        }
    </style>
</head>

<body>
    <svg version="1.1" id="图层_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px"
        y="0px" viewBox="0 0 837 405" style="enable-background:new 0 0 837 405; background-color: white;"
        xml:space="preserve">

        <style type="text/css">
            .st0 {
                fill: none;
                stroke: #000000;
                stroke-width: 0.375;
                stroke-linecap: round;
                stroke-linejoin: round;
                stroke-miterlimit: 10;
            }

            .st1 {
                fill: none;
                stroke: #00FFFF;
                stroke-width: 0.375;
                stroke-linecap: round;
                stroke-linejoin: round;
                stroke-miterlimit: 10;
            }

            .st2 {
                fill-rule: evenodd;
                clip-rule: evenodd;
                fill: #00FFFF;
            }

            .st3 {
                fill-rule: evenodd;
                clip-rule: evenodd;
                fill: #139B48;
            }

            .st4 {
                fill-rule: evenodd;
                clip-rule: evenodd;
            }

            .st5 {
                font-family: 'AdobeSongStd-Light-GBpc-EUC-H';
            }

            .st6 {
                font-size: 12px;
            }
        </style>
        <polygon class="st0" points="68.64,95.12 84.36,95.12 84.36,362.72 68.64,362.72 68.64,95.12 84.36,95.12 84.36,92.36 68.64,92.36 
            " />
        <rect x="67.68" y="90.32" class="st0" width="17.64" height="2.04" />
        <polyline class="st0" points="67.68,90.32 76.56,85.88 85.32,90.32 " />
        <path class="st1" d="M30,91.52v266.16 M76.44,363.2H29.76 M76.44,85.88H29.76" />
        <polygon class="st2" points="29.04,91.52 30.96,91.52 30,85.88 " />
        <polygon class="st2" points="29.04,357.68 30.96,357.68 30,363.2 " />
        <rect x="62.64" y="362.72" class="st0" width="27.72" height="0.48" />
        <line class="st0" x1="90.36" y1="363.2" x2="90.36" y2="362.72" />
        <polyline class="st0"
            points="90.36,362.72 90.24,362 90,361.28 89.52,360.8 88.92,360.32 88.32,360.08 87.6,359.96 " />
        <path class="st0" d="M68.64,359.84H65.4 M87.6,359.84h-3.24" />
        <polyline class="st0"
            points="65.4,359.96 64.68,360.08 63.96,360.32 63.48,360.8 63,361.28 62.76,362 62.64,362.72 " />
        <line class="st0" x1="62.64" y1="362.72" x2="62.64" y2="363.2" />
        <rect x="84.36" y="295.52" class="st0" width="554.64" height="10.44" />
        <rect x="84.36" y="143" class="st0" width="554.64" height="10.44" />
        <polygon class="st0" points="127.8,85.88 134.28,97.76 134.28,353.96 121.32,353.96 121.32,97.76 " />
        <polygon class="st0" points="170.4,85.88 176.88,97.76 176.88,353.96 163.92,353.96 163.92,97.76 " />
        <polygon class="st0" points="212.88,85.88 219.36,97.76 219.36,353.96 206.4,353.96 206.4,97.76 " />
        <polygon class="st0" points="255.36,85.88 261.84,97.76 261.84,353.96 249,353.96 249,97.76 " />
        <polygon class="st0" points="297.96,85.88 304.44,97.76 304.44,353.96 291.48,353.96 291.48,97.76 " />
        <polygon class="st0" points="340.44,85.88 346.92,97.76 346.92,353.96 333.96,353.96 333.96,97.76 " />
        <polygon class="st0" points="382.92,85.88 389.4,97.76 389.4,353.96 376.56,353.96 376.56,97.76 " />
        <polygon class="st0" points="425.52,85.88 432,97.76 432,353.96 419.04,353.96 419.04,97.76 " />
        <polygon class="st0" points="468,85.88 474.48,97.76 474.48,353.96 461.52,353.96 461.52,97.76 " />
        <polygon class="st0" points="510.48,85.88 516.96,97.76 516.96,353.96 504.12,353.96 504.12,97.76 " />
        <polygon class="st0" points="553.08,85.88 559.56,97.76 559.56,353.96 546.6,353.96 546.6,97.76 " />
        <polygon class="st0" points="595.56,85.88 602.04,97.76 602.04,353.96 589.08,353.96 589.08,97.76 " />
        <polygon class="st0"
            points="654.72,95.12 639,95.12 639,362.72 654.72,362.72 654.72,95.12 639,95.12 639,92.36 654.72,92.36 " />
        <rect x="638.16" y="90.32" class="st0" width="17.52" height="2.04" />
        <polyline class="st0" points="655.68,90.32 646.92,85.88 638.16,90.32 " />
        <rect x="633" y="362.72" class="st0" width="27.72" height="0.48" />
        <line class="st0" x1="633" y1="363.2" x2="633" y2="362.72" />
        <polyline class="st0"
            points="635.76,359.96 635.04,360.08 634.32,360.32 633.84,360.8 633.36,361.28 633.12,362 633,362.72 " />
        <path class="st0" d="M654.72,359.84h3.24 M635.76,359.84H639" />
        <polyline class="st0"
            points="660.72,362.72 660.6,362 660.36,361.28 659.88,360.8 659.28,360.32 658.68,360.08 657.96,359.96 " />
        <line class="st0" x1="660.72" y1="362.72" x2="660.72" y2="363.2" />
        <path class="st1" d="M480,377.84h18.48 M504.12,354.08v24 M474.48,354.08v24" />
        <polygon class="st2" points="480,376.88 480,378.8 474.48,377.84 " />
        <polygon class="st2" points="498.48,376.88 498.48,378.8 504.12,377.84 " />
        <rect x="121.32" y="259.16" class="st3" width="12.96" height="94.8" />
        <rect x="291.48" y="187.4" class="st3" width="12.96" height="166.56" />
        <rect x="333.96" y="169.4" class="st3" width="12.96" height="184.56" />
        <rect x="163.92" y="241.16" class="st3" width="12.96" height="112.8" />
        <rect x="206.4" y="223.28" class="st3" width="12.96" height="130.68" />
        <rect x="249" y="205.28" class="st3" width="12.84" height="148.68" />
        <rect x="589.08" y="259.16" class="st3" width="12.96" height="94.8" />
        <rect x="419.04" y="187.4" class="st3" width="12.96" height="166.56" />
        <rect x="376.56" y="169.4" class="st3" width="12.84" height="184.56" />
        <rect x="546.6" y="241.16" class="st3" width="12.96" height="112.8" />
        <rect x="504.12" y="223.28" class="st3" width="12.84" height="130.68" />
        <rect x="461.52" y="205.28" class="st3" width="12.96" height="148.68" />
        <path class="st1" d="M90,51.32h543.48 M639,95V51.08 M84.36,95V51.08" />
        <polygon class="st2" points="90,50.4 90,52.2 84.4,51.3 " />
        <polygon class="st2" points="633.5,50.4 633.5,52.2 639,51.3 " />
        <polygon class="st4" points="655.2,138.1 648.6,131.5 657,135.6 " />
        <polyline class="st0" points="656.2,136.9 711.5,176.4 733.4,176.4 " />
        <polygon class="st4" points="177,116.8 170.5,123.6 174.5,115 " />
        <polyline class="st0" points="175.7,115.9 237.1,25.6 259.1,25.6 " />
        <polygon class="st4" points="409.9,142.3 403.4,149 407.3,140.5 " />
        <polyline class="st0" points="408.5,141.4 468,67 490,67 " />
        <polygon class="st4" points="149.4,310.8 145.4,302.3 151.9,309 " />
        <polyline class="st0" points="232,384.4 210,384.4 150.6,310 " />
        <foreignObject x="260" y="15" width="130" height="40">
            <div xmlns="http://www.w3.org/1999/xhtml" class="editable-text transparent-bg" contenteditable="true">
                竖杆：25*70</div>
        </foreignObject>
        <foreignObject x="350" y="33" width="100" height="40">
            <div xmlns="http://www.w3.org/1999/xhtml" class="editable-text transparent-bg" contenteditable="true">3000
            </div>
        </foreignObject>
        <foreignObject x="0" y="220" width="100" height="40">
            <div xmlns="http://www.w3.org/1999/xhtml" class="editable-text transparent-bg" contenteditable="true">1500
            </div>
        </foreignObject>
        <foreignObject x="737" y="165" width="100" height="40">
            <div xmlns="http://www.w3.org/1999/xhtml" class="editable-text transparent-bg" contenteditable="true">
                立柱：85*85</div>
        </foreignObject>
        <foreignObject x="477" y="360" width="100" height="40">
            <div xmlns="http://www.w3.org/1999/xhtml" class="editable-text transparent-bg" contenteditable="true">160
            </div>
        </foreignObject>
        <foreignObject x="495" y="57" width="170" height="40">
            <div xmlns="http://www.w3.org/1999/xhtml" class="editable-text transparent-bg" contenteditable="true">上横梁：
            </div>
        </foreignObject>
        <foreignObject x="235" y="375" width="170" height="40">
            <div xmlns="http://www.w3.org/1999/xhtml" class="editable-text transparent-bg" contenteditable="true">下横梁：
            </div>
        </foreignObject>
    </svg>

    <!-- 添加按钮 -->
    <button onclick="generateImage()">生成图片</button>

    <script>
        function generateImage() {
            // 获取SVG元素
            var svgElement = document.querySelector('svg');

            // 创建Canvas元素
            var canvas = document.createElement('canvas');
            canvas.width = svgElement.clientWidth;
            canvas.height = svgElement.clientHeight;
            var context = canvas.getContext('2d');

            // 将SVG绘制到Canvas上
            var svgString = new XMLSerializer().serializeToString(svgElement);
            var img = new Image();
            img.src = 'data:image/svg+xml,' + encodeURIComponent(svgString);
            img.onload = function () {
                context.drawImage(img, 0, 0);

                // 将Canvas转换为DataURL并显示在浏览器中
                var imageDataURL = canvas.toDataURL('image/png');
                var imageWindow = window.open('', '_blank');
                imageWindow.document.write('<img src="' + imageDataURL + '" alt="Generated Image">');
            };
        }
    </script>
</body>

</html>